!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vueDotnetValidator=e():t.vueDotnetValidator=e()}(window,function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var i={};r.r(i),r.d(i,"Required",function(){return a}),r.d(i,"Minlength",function(){return o}),r.d(i,"Maxlength",function(){return s}),r.d(i,"Length",function(){return u}),r.d(i,"Range",function(){return l}),r.d(i,"Regex",function(){return d}),r.d(i,"Equalto",function(){return c});var n=function(){function t(t,e,r){this.message=t,this.attributes=e,this.validatorGroup=r}var e=t.prototype;return e.getMessage=function(){return this.message},e.isValid=function(){},t}();var a=function(t){var e,r;function i(){return t.apply(this,arguments)||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.isValid=function(t){return!!t},i}(n);var o=function(t){var e,r;function i(e,r){var i;return(i=t.call(this,e,r)||this).minLength=r.valMinlengthMin,i}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.isValid=function(t){return!t||t.length>=this.minLength},i}(n);var s=function(t){var e,r;function i(e,r){var i;return(i=t.call(this,e,r)||this).maxLength=r.valMaxlengthMax,i}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.isValid=function(t){return!t||t.length<=this.maxLength},i}(n);var u=function(t){var e,r;function i(e,r){var i;return(i=t.call(this,e,r)||this).maxLength=r.valLengthMax,i.minLength=r.valLengthMin,i}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.isValid=function(t){return!t||t.length>=this.minLength&&t.length<=this.maxLength},i}(n);var l=function(t){var e,r;function i(e,r){var i;return(i=t.call(this,e,r)||this).min=parseFloat(r.valRangeMin),i.max=parseFloat(r.valRangeMax),i}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.isValid=function(t){var e=parseFloat(t);return!t&&0!=e||!isNaN(e)&&e>=this.min&&e<=this.max},i}(n);var d=function(t){var e,r;function i(e,r){var i;return(i=t.call(this,e,r)||this).regex=new RegExp(r.valRegexPattern),i}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.isValid=function(t){return!t||this.regex.test(t)},i}(n);var c=function(t){var e,r;function i(e,r,i){var n;return(n=t.call(this,e,r,i)||this).otherFieldName=r.valEqualtoOther,n}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.isValid=function(t){var e=this.validatorGroup.findValidatorsByName(this.otherFieldName);if(null==e)return!0;var r=e[0];return!t||!r||t==r.val},i}(n),h=new(function(){function t(){}return t.prototype.findValidatorGroup=function(t){if(t.$parent)return t.$parent.isValidatorGroup?t.$parent:this.findValidatorGroup(t.$parent)},t}());function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var p=function(t){void 0===t&&(t={});var e=f({},i,{},t),r="field-validation-valid",n=null;return{name:"vue-dotnet-validator",props:{value:{default:""},extraErrorMessage:{default:""}},data:function(){return{validators:[],blurred:!1,hasValidationError:!1,localInputValue:this.value,isTwoWayBind:!1,hasChanged:!1,name:"",field:null}},mounted:function(){var t=this;this.$nextTick(function(){t.field=t.resolveField(t),t.field?(t.name=t.field.name,t.isTwoWayBind=t.$options._parentListeners&&!!t.$options._parentListeners.input,n=h.findValidatorGroup(t),t.findValidators(),t.addAriaDescribedBy(),t.$refs.message.innerText?(t.hasValidationError=!0,t.blurred=!0):t.$refs.message.classList.add(r),t.$watch("validationMessage",t.showValidationMessage),t.isCheckbox||t.isRadio||t.field.addEventListener("blur",t.blurField),t.field.addEventListener("change",t.changeField),t.field.addEventListener("input",t.changeField),n.addValidator(t)):console.error("Field is missing!",t)})},destroyed:function(){var t=this;this.$nextTick(function(){n.removeValidator(t)})},methods:{resolveField:function(t){var e=this;return t?t.$refs.field?t.$refs.field:t.$children.length>0?t.$children.map(function(t){return e.resolveField(t)}).filter(function(t){return!!t})[0]:null:null},blurField:function(t){t&&(this.val=t.target.value),this.blurred=!0,this.$emit("blur-field",this),this.showValidationMessage()},changeField:function(t){t&&(this.isCheckbox||this.isRadio?(this.blurred=!0,this.val=this.isCheckbox?t.target.checked:t.target.checked?t.target.value:""):this.val=t.target.value),this.hasChanged=!0,this.$emit("change-field",this),this.showValidationMessage()},findValidators:function(){var t=this,r=this.field.dataset;Object.keys(e).forEach(function(i){var a=r["val"+i];a&&t.validators.push(new e[i](a,r,n))})},showValidationMessage:function(){if(this.blurred)return this.$refs.message.innerHTML=this.validationMessage,this.validationMessage?(this.hasValidationError=!0,this.$refs.message.classList.remove(r)):(this.hasValidationError=!1,this.$refs.message.classList.add(r))},addAriaDescribedBy:function(){var t="vue-validator-"+parseInt(100*Math.random())+"-"+this._uid;this.$refs.message.id=t,this.field.setAttribute("aria-describedby",t),this.$refs.message.setAttribute("role","alert")}},computed:{isValid:function(){var t=this;return this.validators.filter(function(e){return e.isValid(t.val)}).length===this.validators.length&&!this.extraErrorMessage},validationMessage:function(){var t=this,e="";return this.validators.forEach(function(r){r.isValid(t.val)||e||(e=r.getMessage())}),e||this.hasChanged||(e=this.$refs.message.innerHTML),e||this.extraErrorMessage},val:{get:function(){return this.isTwoWayBind?this.value:this.localInputValue},set:function(t){return this.hasChanged=!0,this.isTwoWayBind?this.$emit("input",t):this.localInputValue=t}},isCheckbox:function(){return this.field&&"checkbox"==this.field.type},isRadio:function(){return this.field&&"radio"==this.field.type}},watch:{isValid:function(){this.field.setAttribute("aria-invalid",!this.isValid)}}}};var v={name:"vue-dotnet-validator-group",props:{onValid:{type:Function,default:null}},data:function(){return{validators:[],loading:!1,isValidatorGroup:!0}},methods:{validate:function(t){var e=!0;return this.validators.forEach(function(r){r.isValid||(e=!1,t.preventDefault(),r.blurField())}),e&&this.onValid instanceof Function?(t.preventDefault(),this.onValid(t)):(this.loading=e,e)},findValidatorsByName:function(t){return t=t.replace(/\*/g,"").replace(/\./g,""),this.validators.filter(function(e){return r=e.name,i=t,-1!==r.indexOf(i,r.length-i.length);var r,i})},addValidator:function(t){this.validators.push(t)},removeValidator:function(t){this.validators.splice(this.validators.indexOf(t),1)}}};r.d(e,"validatorGroup",function(){return v}),r.d(e,"validator",function(){return p}),r.d(e,"BaseValidator",function(){return n})}])});